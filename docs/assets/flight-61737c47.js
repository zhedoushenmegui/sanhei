import{_ as S,o as i,c as n,a as l,t as h,F as p,r as g}from "./index-2c3db99f.js";const c=0,f=1,u=2,m="LS_FLIGHT",k={name:"flight",data(){return{size:5,clicked:1,unclick:0,failed:2,playground:[],current:0,_tsInter:null,ts:0,gs_pre:c,gs_playing:f,gs_end:u,gameStatus:c,best:9999}},methods:{loadFromLS(){let s=localStorage.getItem(m);if(s!==null)try{let t=JSON.parse(s);this.best=t.best}catch(t){console.error(t)}},saveToLS(){let s={best:this.best<this.ts?this.best:this.ts};localStorage.setItem(m,JSON.stringify(s))},reload(){this.current=0,this.ts=0,this.stopTimer(),this.gameStatus=c,this.init()},startTimer(){if(this._tsInter===null){let s=this;this._tsInter=setInterval(t=>{s.ts+=.1},100)}},stopTimer(){this._tsInter&&(clearInterval(this._tsInter),this._tsInter=null)},init(){this.loadFromLS(),this.current=0;let s=this.size*this.size;this.playground=[];for(let e=0; e<this.size; e++)this.playground.push([]);let t=[];for(; t.length<s;){let e=Math.round(Math.random()*(s+2));0<e&&e<=s&&t.indexOf(e)===-1&&(this.playground[Math.floor(t.length/this.size)][t.length%this.size]={s:this.unclick,w:e},t.push(e))}this.startTimer()},clickOne(s, t){if(this.gameStatus===c&&(this.gameStatus=f),this.gameStatus===u)return!1;this.startTimer();let e=this.size*this.size,r=this.playground[s][t];r.w===this.current+1?(this.current++,r.s=this.clicked,this.current===e&&(this.gameStatus=u,this.stopTimer(),this.ts<this.best&&(this.best=this.ts),this.saveToLS())):r.s===this.unclick&&(r.s=this.failed)}},created(){this.init()}},x={id:"main"},b={class:"box-canvas",id:"playground"},I={style:{width:"100%","min-width":"390px","text-align":"center",color:"white"}},T={style:{display:"flex","flex-wrap":"wrap","justify-content":"center","margin-top":"20px","user-select":"none"}},w={style:{display:"block",width:"100%"}},C={style:{margin:"0 auto",width:"fit-content"}},L=["onClick"],z={key:0},E={key:1,style:{color:"red"}},F={key:2,style:{color:"#CCCCCC"}},N={style:{display:"flex","justify-content":"center","margin-top":"2rem"}};function O(s, t, e, r, o, d){return i(),n("div",x,[l("div",b,[l("div",I," TIME: "+h(o.ts.toFixed(1))+"s | BEST: "+h(o.best.toFixed(1))+"s ",1),l("div",T,[(i(!0),n(p,null,g(o.playground,(_, y)=>(i(),n("div",w,[l("div",C,[(i(!0),n(p,null,g(_,(a, v)=>(i(),n("div",{class:"pot",onClick: j=>d.clickOne(y,v)},[a.s===o.unclick?(i(),n("span",z,h(a.w),1)):a.s===o.failed?(i(),n("span",E,h(a.w),1)):(i(),n("span",F,h(a.w),1))],8,L))),256))])]))),256))]),l("div",N,[l("button",{onClick:t[0]||(t[0]=(..._)=>d.reload&&d.reload(..._))},"RE")])])])}const M=S(k,[["render",O],["__scopeId","data-v-6cd06d6d"]]);export{M as default};
